<!doctype html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #FFFFFF;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input {
            outline: 0;
            background: #f2f2f2;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            padding: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #4CAF50;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover, .staticrypt-form .staticrypt-decrypt-button:active, .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #43A047;
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            margin-bottom: 1em;
            background: #76b852; /* fallback for old browsers */
            background: -webkit-linear-gradient(right, #76b852, #8DC26F);
            background: -moz-linear-gradient(right, #76b852, #8DC26F);
            background: -o-linear-gradient(right, #76b852, #8DC26F);
            background: linear-gradient(to left, #76b852, #8DC26F);
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            display: none;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        .staticrypt-footer {
            position: fixed;
            height: 20px;
            font-size: 16px;
            padding: 2px;
            bottom: 0;
            left: 0;
            right: 0;
            margin-bottom: 0;
        }

        .staticrypt-footer p {
            margin: 2px;
            text-align: center;
            float: right;
        }

        .staticrypt-footer a {
            text-decoration: none;
        }
    </style>
</head>

<body class="staticrypt-body">
<div class="staticrypt-page">
    <div class="staticrypt-form">
        <div class="staticrypt-instructions">
            <p class="staticrypt-title">Protected Page</p>
            <p></p>
        </div>

        <hr class="staticrypt-hr">

        <form id="staticrypt-form" action="#" method="post">
            <input id="staticrypt-password"
                   type="password"
                   name="password"
                   placeholder="passphrase"
                   autofocus/>

            <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT"/>
        </form>
    </div>

</div>
<footer class="staticrypt-footer">
    <p class="pull-right">Created with <a href="https://robinmoisson.github.io/staticrypt">StatiCrypt</a></p>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js" integrity="sha384-lp4k1VRKPU9eBnPePjnJ9M2RF3i7PC30gXs70+elCVfgwLwx1tv5+ctxdtwxqZa7" crossorigin="anonymous"></script>

<script> var storageType = "localStorage" 
function passphraseStorageFactory (storageType) {
    return {
        store: function (passphrase) {
            return window[storageType].setItem("passphrase", passphrase)
        },
        get: function () {
            return window[storageType].getItem("passphrase")
        },
        remove: function () {
            return window[storageType].removeItem("passphrase")
        }
    }
}

const passphraseStorage = passphraseStorageFactory(storageType)</script>

<script>
    /**
     * Decrypt a salted msg using a password.
     * Inspired by https://github.com/adonespitogo
     */
    var keySize = 256;
    var iterations = 1000;
    function decrypt (encryptedMsg, pass) {
        var salt = CryptoJS.enc.Hex.parse(encryptedMsg.substr(0, 32));
        var iv = CryptoJS.enc.Hex.parse(encryptedMsg.substr(32, 32))
        var encrypted = encryptedMsg.substring(64);

        var key = CryptoJS.PBKDF2(pass, salt, {
            keySize: keySize/32,
            iterations: iterations
        });

        var decrypted = CryptoJS.AES.decrypt(encrypted, key, {
            iv: iv,
            padding: CryptoJS.pad.Pkcs7,
            mode: CryptoJS.mode.CBC
        }).toString(CryptoJS.enc.Utf8);
        return decrypted;
    }

    window.onload = function () {
        if (passphraseStorage && passphraseStorage.get()) {
            if (decryptWithPassphrase(passphraseStorage.get())) {
                return;
            } else {
                passphraseStorage.remove();
            }
        }

        document.querySelector(".staticrypt-body").style.display = "block";
        var form = document.getElementById('staticrypt-form')
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault()
                var passphrase = document.getElementById('staticrypt-password').value
                passphraseStorage && passphraseStorage.store(passphrase)
                if (!decryptWithPassphrase(passphrase)) {
                    alert('Bad passphrase!');
                    return;
                }
            })
        }
    }

    function decryptWithPassphrase(passphrase) {
        var encryptedMsg = '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',
            encryptedHMAC = encryptedMsg.substring(0, 64),
            encryptedHTML = encryptedMsg.substring(64),
            decryptedHMAC = CryptoJS.HmacSHA256(encryptedHTML, CryptoJS.SHA256(passphrase).toString()).toString();

        if (decryptedHMAC !== encryptedHMAC) {
            return false;
        }

        var plainHTML = decrypt(encryptedHTML, passphrase);
        document.write(plainHTML);
		document.close();

        return true;
    };
</script>
</body>
</html>
