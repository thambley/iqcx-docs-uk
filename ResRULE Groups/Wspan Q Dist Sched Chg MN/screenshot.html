<!doctype html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #FFFFFF;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input {
            outline: 0;
            background: #f2f2f2;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            padding: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #4CAF50;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover, .staticrypt-form .staticrypt-decrypt-button:active, .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #43A047;
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            margin-bottom: 1em;
            background: #76b852; /* fallback for old browsers */
            background: -webkit-linear-gradient(right, #76b852, #8DC26F);
            background: -moz-linear-gradient(right, #76b852, #8DC26F);
            background: -o-linear-gradient(right, #76b852, #8DC26F);
            background: linear-gradient(to left, #76b852, #8DC26F);
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        .staticrypt-footer {
            position: fixed;
            height: 20px;
            font-size: 16px;
            padding: 2px;
            bottom: 0;
            left: 0;
            right: 0;
            margin-bottom: 0;
        }

        .staticrypt-footer p {
            margin: 2px;
            text-align: center;
            float: right;
        }

        .staticrypt-footer a {
            text-decoration: none;
        }
    </style>
</head>

<body class="staticrypt-body">
<div class="staticrypt-page">
    <div class="staticrypt-form">
        <div class="staticrypt-instructions">
            <p class="staticrypt-title">Protected Page</p>
            <p></p>
        </div>

        <hr class="staticrypt-hr">

        <form id="staticrypt-form" action="#" method="post">
            <input id="staticrypt-password"
                   type="password"
                   name="password"
                   placeholder="passphrase"
                   autofocus/>

            <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT"/>
        </form>
    </div>

</div>
<footer class="staticrypt-footer">
    <p class="pull-right">Created with <a href="https://robinmoisson.github.io/staticrypt">StatiCrypt</a></p>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js" integrity="sha384-lp4k1VRKPU9eBnPePjnJ9M2RF3i7PC30gXs70+elCVfgwLwx1tv5+ctxdtwxqZa7" crossorigin="anonymous"></script>

<script> var storageType = "localStorage" 
function passphraseStorageFactory (storageType) {
    return {
        store: function (passphrase) {
            return window[storageType].setItem("passphrase", passphrase)
        },
        get: function () {
            return window[storageType].getItem("passphrase")
        },
        remove: function () {
            return window[storageType].removeItem("passphrase")
        }
    }
}

const passphraseStorage = passphraseStorageFactory(storageType)</script>

<script>
    /**
     * Decrypt a salted msg using a password.
     * Inspired by https://github.com/adonespitogo
     */
    var keySize = 256;
    var iterations = 1000;
    function decrypt (encryptedMsg, pass) {
        var salt = CryptoJS.enc.Hex.parse(encryptedMsg.substr(0, 32));
        var iv = CryptoJS.enc.Hex.parse(encryptedMsg.substr(32, 32))
        var encrypted = encryptedMsg.substring(64);

        var key = CryptoJS.PBKDF2(pass, salt, {
            keySize: keySize/32,
            iterations: iterations
        });

        var decrypted = CryptoJS.AES.decrypt(encrypted, key, {
            iv: iv,
            padding: CryptoJS.pad.Pkcs7,
            mode: CryptoJS.mode.CBC
        }).toString(CryptoJS.enc.Utf8);
        return decrypted;
    }

    window.onload = function () {
        var form = document.getElementById('staticrypt-form')
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault()
                var passphrase = document.getElementById('staticrypt-password').value
                passphraseStorage && passphraseStorage.store(passphrase)
                if (!decryptWithPassphrase(passphrase)) {
                    alert('Bad passphrase!')
                    return
                }
            })
        }
    }

    if (passphraseStorage && passphraseStorage.get()) {
        if (!decryptWithPassphrase(passphraseStorage.get())) {
            passphraseStorage.remove()
        }
    }

    function decryptWithPassphrase(passphrase) {
        var encryptedMsg = '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',
            encryptedHMAC = encryptedMsg.substring(0, 64),
            encryptedHTML = encryptedMsg.substring(64),
            decryptedHMAC = CryptoJS.HmacSHA256(encryptedHTML, CryptoJS.SHA256(passphrase).toString()).toString();

        if (decryptedHMAC !== encryptedHMAC) {
            return false;
        }

        var plainHTML = decrypt(encryptedHTML, passphrase);
        document.getElementsByTagName("html")[0].innerHTML = plainHTML;

        return true;
    };
</script>
</body>
</html>
