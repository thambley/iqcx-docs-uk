<!doctype html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #FFFFFF;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input {
            outline: 0;
            background: #f2f2f2;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            padding: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #4CAF50;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover, .staticrypt-form .staticrypt-decrypt-button:active, .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #43A047;
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            margin-bottom: 1em;
            background: #76b852; /* fallback for old browsers */
            background: -webkit-linear-gradient(right, #76b852, #8DC26F);
            background: -moz-linear-gradient(right, #76b852, #8DC26F);
            background: -o-linear-gradient(right, #76b852, #8DC26F);
            background: linear-gradient(to left, #76b852, #8DC26F);
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        .staticrypt-footer {
            position: fixed;
            height: 20px;
            font-size: 16px;
            padding: 2px;
            bottom: 0;
            left: 0;
            right: 0;
            margin-bottom: 0;
        }

        .staticrypt-footer p {
            margin: 2px;
            text-align: center;
            float: right;
        }

        .staticrypt-footer a {
            text-decoration: none;
        }
    </style>
</head>

<body class="staticrypt-body">
<div class="staticrypt-page">
    <div class="staticrypt-form">
        <div class="staticrypt-instructions">
            <p class="staticrypt-title">Protected Page</p>
            <p></p>
        </div>

        <hr class="staticrypt-hr">

        <form id="staticrypt-form" action="#" method="post">
            <input id="staticrypt-password"
                   type="password"
                   name="password"
                   placeholder="passphrase"
                   autofocus/>

            <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT"/>
        </form>
    </div>

</div>
<footer class="staticrypt-footer">
    <p class="pull-right">Created with <a href="https://robinmoisson.github.io/staticrypt">StatiCrypt</a></p>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js" integrity="sha384-lp4k1VRKPU9eBnPePjnJ9M2RF3i7PC30gXs70+elCVfgwLwx1tv5+ctxdtwxqZa7" crossorigin="anonymous"></script>

<script> var storageType = "localStorage" 
function passphraseStorageFactory (storageType) {
    return {
        store: function (passphrase) {
            return window[storageType].setItem("passphrase", passphrase)
        },
        get: function () {
            return window[storageType].getItem("passphrase")
        },
        remove: function () {
            return window[storageType].removeItem("passphrase")
        }
    }
}

const passphraseStorage = passphraseStorageFactory(storageType)</script>

<script>
    /**
     * Decrypt a salted msg using a password.
     * Inspired by https://github.com/adonespitogo
     */
    var keySize = 256;
    var iterations = 1000;
    function decrypt (encryptedMsg, pass) {
        var salt = CryptoJS.enc.Hex.parse(encryptedMsg.substr(0, 32));
        var iv = CryptoJS.enc.Hex.parse(encryptedMsg.substr(32, 32))
        var encrypted = encryptedMsg.substring(64);

        var key = CryptoJS.PBKDF2(pass, salt, {
            keySize: keySize/32,
            iterations: iterations
        });

        var decrypted = CryptoJS.AES.decrypt(encrypted, key, {
            iv: iv,
            padding: CryptoJS.pad.Pkcs7,
            mode: CryptoJS.mode.CBC
        }).toString(CryptoJS.enc.Utf8);
        return decrypted;
    }

    window.onload = function () {
        if (passphraseStorage && passphraseStorage.get()) {
            if (decryptWithPassphrase(passphraseStorage.get())) {
                return;
            } else {
                passphraseStorage.remove();
            }
        }

        var form = document.getElementById('staticrypt-form')
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault()
                var passphrase = document.getElementById('staticrypt-password').value
                passphraseStorage && passphraseStorage.store(passphrase)
                if (!decryptWithPassphrase(passphrase)) {
                    alert('Bad passphrase!');
                    return;
                }
            })
        }
    }

    function decryptWithPassphrase(passphrase) {
        var encryptedMsg = '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',
            encryptedHMAC = encryptedMsg.substring(0, 64),
            encryptedHTML = encryptedMsg.substring(64),
            decryptedHMAC = CryptoJS.HmacSHA256(encryptedHTML, CryptoJS.SHA256(passphrase).toString()).toString();

        if (decryptedHMAC !== encryptedHMAC) {
            return false;
        }

        var plainHTML = decrypt(encryptedHTML, passphrase);
        document.write(plainHTML);
		document.close();

        return true;
    };
</script>
</body>
</html>
