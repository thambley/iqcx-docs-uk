<!doctype html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #FFFFFF;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input {
            outline: 0;
            background: #f2f2f2;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            padding: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #4CAF50;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover, .staticrypt-form .staticrypt-decrypt-button:active, .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #43A047;
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            margin-bottom: 1em;
            background: #76b852; /* fallback for old browsers */
            background: -webkit-linear-gradient(right, #76b852, #8DC26F);
            background: -moz-linear-gradient(right, #76b852, #8DC26F);
            background: -o-linear-gradient(right, #76b852, #8DC26F);
            background: linear-gradient(to left, #76b852, #8DC26F);
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        .staticrypt-footer {
            position: fixed;
            height: 20px;
            font-size: 16px;
            padding: 2px;
            bottom: 0;
            left: 0;
            right: 0;
            margin-bottom: 0;
        }

        .staticrypt-footer p {
            margin: 2px;
            text-align: center;
            float: right;
        }

        .staticrypt-footer a {
            text-decoration: none;
        }
    </style>
</head>

<body class="staticrypt-body">
<div class="staticrypt-page">
    <div class="staticrypt-form">
        <div class="staticrypt-instructions">
            <p class="staticrypt-title">Protected Page</p>
            <p></p>
        </div>

        <hr class="staticrypt-hr">

        <form id="staticrypt-form" action="#" method="post">
            <input id="staticrypt-password"
                   type="password"
                   name="password"
                   placeholder="passphrase"
                   autofocus/>

            <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT"/>
        </form>
    </div>

</div>
<footer class="staticrypt-footer">
    <p class="pull-right">Created with <a href="https://robinmoisson.github.io/staticrypt">StatiCrypt</a></p>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js" integrity="sha384-lp4k1VRKPU9eBnPePjnJ9M2RF3i7PC30gXs70+elCVfgwLwx1tv5+ctxdtwxqZa7" crossorigin="anonymous"></script>

<script> var storageType = "localStorage" 
function passphraseStorageFactory (storageType) {
    return {
        store: function (passphrase) {
            return window[storageType].setItem("passphrase", passphrase)
        },
        get: function () {
            return window[storageType].getItem("passphrase")
        },
        remove: function () {
            return window[storageType].removeItem("passphrase")
        }
    }
}

const passphraseStorage = passphraseStorageFactory(storageType)</script>

<script>
    /**
     * Decrypt a salted msg using a password.
     * Inspired by https://github.com/adonespitogo
     */
    var keySize = 256;
    var iterations = 1000;
    function decrypt (encryptedMsg, pass) {
        var salt = CryptoJS.enc.Hex.parse(encryptedMsg.substr(0, 32));
        var iv = CryptoJS.enc.Hex.parse(encryptedMsg.substr(32, 32))
        var encrypted = encryptedMsg.substring(64);

        var key = CryptoJS.PBKDF2(pass, salt, {
            keySize: keySize/32,
            iterations: iterations
        });

        var decrypted = CryptoJS.AES.decrypt(encrypted, key, {
            iv: iv,
            padding: CryptoJS.pad.Pkcs7,
            mode: CryptoJS.mode.CBC
        }).toString(CryptoJS.enc.Utf8);
        return decrypted;
    }

    window.onload = function () {
        if (passphraseStorage && passphraseStorage.get()) {
            if (decryptWithPassphrase(passphraseStorage.get())) {
                return;
            } else {
                passphraseStorage.remove();
            }
        }

        var form = document.getElementById('staticrypt-form')
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault()
                var passphrase = document.getElementById('staticrypt-password').value
                passphraseStorage && passphraseStorage.store(passphrase)
                if (!decryptWithPassphrase(passphrase)) {
                    alert('Bad passphrase!');
                    return;
                }
            })
        }
    }

    function decryptWithPassphrase(passphrase) {
        var encryptedMsg = '36e1c24bb4f87e835c3c9dfa8e8ce8ad05d1bf27a1babdd4876563fd24322295962105565220fd0dbac3c8726413857548b9d1bc6e095cbc6968c1d342ca5f76LK4QRxuXgvduv+P+nqw79SJXOzgsqgswMyDZwnYFoB091Cr+eId0OvJNWFrQyYz3WRpO2yrNGlQqxeJgl0G4vdYvJ+yyTc0hNNbuqPHKaaEKYaMcc0QwO2MTdPRqGLyzrJ/uzQgShNsgUWtQ2FJv2AmZy7X2zU+/VmSvUM7G7Nmp5EIZ5RF3RBFy4ESzCCi2HAldJnKxSElZk8+xSYGB0TpIuM262SzjrKdiEeyrbqz2jd9yj4BI67tqRn++Df4jatqU9HpOORjIplCwGtkc03wP3XOtLoYkaondfgwidrbYriqgNRDJ4elwrhzX07uklYc3GL47QmXdTyShKrk0c53rDl0N0XQt9DY/svjj1ylulwHYypemVm7Km1hYFcGuS3KjJ91ZP0Gtr1n6kf8HrhKst3oc9fFK56+h3ug0QjAjKx2yNd8A22rXCBG+/nrTHll1/FMZPBZhL8utedWnXnl7tdmIo+lcJ0JPXrNOIqxhPxHEtNqy7R0+NUFeBwfjZWMgS1y/Iktm2JTD7AB4olgASnKgYhCEa+XNCasyMZwB+zWO4rRTV5A3LaUBHm9FYs6Zr+tnJvUE45drmKculXl5y0xoG76AG5kXzmNOlH3Yz5VKe88GQ+njlrVZBESPJHs8uld6Tx+FP1oTjI0Uq+OcR0i06+eOVpiWj4wH6AkmG/xnclOkOXfEe7dLhMGW8ZaFJMN27gtboDJco8xn3Y9cCFGNOEnrc95UBjBIObOOgAa2KqD8jf8RCv59tAGGj4fEI4nl5V9q/7ooA88CPxJEsmepjYo20FD5Fe8Vz0gRKGTHgCv5UMc7UvQ1ELc9YEjeWsD3+FDg3KEv6pyOiHrEVodBclskaOwFB/IzVAHhln65Lbn0ViJ7xtMVH0xE5pxylA2TcgdNit5Pm03QS/z2nXqzjAnT5BGnnPnK3jToZXXV4W/Lo6UnOXSMfeOp1RYphRHKTSEQHZE0sHaTttXLqpX40PQMj2A7LJUoaqxTF7eMJE8WBtTsTRVJABXQXD2QSHu+kDEjhwLUZAOnP4IR3EovDYtXGEW8J0DcgfCCKksRcBSpENIRBIAdlplVycDboqr32CldErb4QM3R6IWpvhADnctTwPe5Mz2Wosy3ggm++6odVWE+/NFgwhX7TyVZgJe0TRk3QUEWyWel7YloXy/eB6/WMQ6VMqNCr4jQW2w+45KnxTVQISlZilYAIwEzymnQBbX40BNEsTAf4k3f3DXa+16XzWg6VVMZ21oVURiSTd5HCtXuZJVEfTcsIHc2AuEN+aNrhVp3ZX9qbgp46j2j0yU1Oc+yZRTs36ADagBFE/petxCh4ySlMoTJ46z8cVzSwBvhpluRPhLpV4lzg0hhV+Dowsg50GCThYb8zTj7mgeee6C9LGEGQR8qyp1N1ILDsRRR6R/pylUufWrlsC+jCGRShsXxyauSn76NH44UU6ioWmYmC0GaJeW7rv5zC2NiYpQ9kSmK2qbN+RVSxoJkEFp0yDl3MEEocZL1l65T933JwC6g86vr+w+WCMpQvkfrLV6R3uh9tQnt1zVTuMAq+yGJk37iib/6B3B3nLtpqMuUr91KV3GwmHlKA4pQ7r1BKSXLLdbVAEJGi5LPAwNUABPSmPd2amI3C5dwK444hiSkDmSZJFq+Fd06cKcxi+Zeh+QVGT+bn0MgmdrSuOLPBr/ewcTNEwycICbFrQNy6KRadOvCuU8wWsz5sto5UnauVvr1x0dXhiG5cp8O7K3ek4KtGtiSG0UvsKP6fjMIriJiyuhEXRgjF4Ys3BzKWFA1Z1UIYukRnu6c+uSuvI8f7deq/wbGdXo4C1Uraku8Dtr9qW+wuCM56foLoZ+FytQOleIZ84spQwCQP8CWHze+ksCecYGhRNqpVtEHnU7zfB1mnlhFn4bXh4LgRo4vxRlyH+ll8oZCFxhw+D4SK5iaLrwabiRyL2do1w4LNtk6bqQISrG/sNWXz/EB2Se2z6Mb+gBKlMobJpSa4h6VMNnlR6eCl08tu550PNaOFWzfFFfmJ4Cr1GiekvwjtAMwSoaQDMNEUY8/BEyM5nk6HyYC1hqI2KLyb1aVO8Is+s7+C9pOIBygN7feockSZfO3IvQlgTnlbcUpTAMSXbZIK8zY8xoUNqQc3qJhXkx3yXlZjQhrZVh2RsgkTOFQx4rjSnvsr5rqMPSicFFufEnoiDvK9QBz9iMb2iUau28j8SNnb1V52THGD02DZ+q5CiTzo2sLQf2fHP4Mm981jJ4zOBkl0aRFasMkTE8rGXD8eqsXgkp5JQIMt+0CPxEfLvsikUjWJRv31mzuBoLDDEHAI1xJoIUu9MYeenBoAQPdHT2peroYAGSz8hZ50pAswOfdJnTHqrFgctBNEzppYqYmW3yPrtxoqqIeoCSfTAbEUjAoE41+ZApAfXZWZpp+ekiTluv3NmG3pDP5gpGXwDr/VZqcn7Wni8cuqb2jgErWsE7BKWm8z6va2yxMSmgqb3Huf+u98aqkI14X3k6fr1uX2gtMmv/znr5x6OSOPUCpN1rILcjmiYJZ2Olep0oLm9CExtibV325QO/25/lzpZFC0+tn4nvpA74mTXr72hs6FWq9QboiW3CC0noXRcb4FwISFh1xB0bt2dt8g6Mpg894FeomfZkms/3rXHwyVaTJ0eCN2PHkhzm/vzzXdyGb1z7XqvGWQuTOyhDkPhhsBpA0VncSAYuOfWnd2er+EeHu+bAAtcHOv6GeQFzfZrD0vicX85cr27J83VDfXFA6ZCn83kDQuamJvhMfDfELtltKvt5Im0prE4Jqh4sAGncpVnFGiNrWUsGmYInp3zjPTu6GBbqw52ioE9rTcvprIjdlWsYdlhmvzRRjFDhpS2o7PK6Twc+2YgHEqAxey2C+mAFaUQ060N1k1kAtjb6RUOiHbUAFFTWsmRSmy6wyIpDoSHkQZjsAo59YFLPn0VnJbMwmyQidY0cF7RVOKXCyCwlU52ZuXeEb+qhS5Yn0RX0fQHKzFK0dpSAM92xMQmyuy4NwuNKH4AV+qPj/JMV+7NbiWc0HB22bFdmmbNiDWhYfT/6M03ZWNvyfWW7BuaTmjR2LvrEUF66mdrFPyimCnAQvl4uX9+CgzyZv+MPLYj9GSwA8535gDctDXi++uyYJmMi/QgoQE0g1lZVntskD5K2hdGXEkl7Q9byGI9Rou3+lpj7LOO42TVF3cbU4ni7OLlZtxGmfrx8/z61HhZmZc69lv1RLVTvsG8tA8bb/5NxLOmgDTKXVkEs3GZ8wCrNwr7uenYJCUG5lbv2PY5l9X7LdZwSlt3bRISCt0WlSvZ/dfFBHxQh22/OIJFoCwmwB6pbr1A7TZtt3bY28GzlQSNx90GmpC3nOq9qtxuThGSvfFN/YtDlKHLUSGbqUW3f8VZVZl35CwkJsLUy8bDDhvFXFgX7AlexGbYCGauMug9nUh3o0A2aEIoTdr99VP5KQseSVfjbeYYCmXlACrc5IvkB/vaDm6jUZ3WEnuzslMtzYB3zOssZ0kOUnMdtiaDSAPj4zzRayO4NQ5tXkMkceLH4A3yBM+gP6dfAa9HgL4HiSnNQkFq+F0R5/J2acr83ge9ThQvraU88m0RSvM5sx9kp09ayqmLD5gITOYTc1NgpmRy/f+bID9JRUAq/VtD+8P1i1uxFU5UxIcQz3Hfi5wtDEU15+sGB4eUpKUHnnpaEJxWudeLMQQzF4fgfP+XSFpkwtyV113yzmbGQr+AlAOtuYvFP6WXEen7rjroWn6i3Nz09uYj5k0TEYqogPE04S9su+e6WJOsa8iuCTW5BW4vH/eGDydPPjr3WeSsDGHEaRNXgLRCY47MpLipUQvP6L5hTgY3/yYRyNJOsiCHTjQd9L6EXzxxeaPIZ42oRJUILXj6EyIj1ddo20gtDbhoh0hNZe83+yExBx4HLJLWMj6/+HqlItmV71xXyEPEuD7ByIPH8tZMkgC7lJgpTKOJvKNXulLMMAZOYhRF6mscB9gcpCqPjfwa89mDEqPxBZgWcvkS9EZOccNmoWIRr+IDwIDuxU7mi4IjUB4T6xu/XB3V9NmugYh2naalBXTw+UGItK2sPTWBNfFGFBo4/rZv7ew6L/UagnVanQjXoAa5g0NjFOCI2v6LVAQjXB3BUIIXE9PbaQpFgjchf9/Q5mxQiZIZUz+f53nBqAABPwcGvz4OStSgmHc62tqvi0Pm+/oyOmBSWeQUtZdZJmfPEGFkvD5OTFYiKx2LeSNJQ6nlY0d4AGIwYhPrO7X9Cfyco4TIr/s5SzJVXpH2J2aLiP8YQc504Vpa06LQe2wC/bric1itt4f84do9BXB7Xj3NdPxhTwI1TG81My81IdIFIM9omuEtYis7DCswwvWsuVYVht5gshlkksAwp5LHe3z115GZLbtYganl2XiCEjPjpwb4Oi3G1gwaxt4GTL+fYrxBB6MHuog0PLyexuHglfOddTFoJbxHjJaFigrnnpvzKs6eIgHCmIuv793bo3bzcYAQgS6d2D7rlduOGcc/tImufD0yJRo9fz3b3htCmIUxzlgBm9UhC7b43nPGN2tBC8qDyRj1w+sLBGwELjS5DHb8aSU7yajBiP5N8J+6qa/ilGC2cpHhWx9FpA03lAeqJyKnKkkh+YtmlCkplGiYFkYpAiTDgBtzkFSXjqzJax1wQLcfKMX9a/dmmtP9LQjutABU42aXLGNwfkYZK+Ws4MUGyiUPn+w6TI0xj896miBreSIY9TazB/fqhecKTzksqh4QeS6HgdqKcm9iiLkFqB0Q94q4mQnwFxVF2QUcTBpcfsK7AHiaUbekHkllb5N6BsZ+hudBoMTHdr/TOuclORTblNXZBq4C6P1QPoDQ2ATGP3m982Uyhi8qRB0G28HBblPp9Tbbw6OOONmZzVS4sunfsW6xrJ9YraOcc/bm0VOjtLaFjgEfAIgjFnE7UvgdimTe7n1sRhKY7B/cSc0BTsh0uPqkEgAk+TFkBfWpbVdLJVDi75/t1P+OePuuLvIPeWqkp9FGig1GMVg1fBqW5j5nsumw5D8VtzXZs0X69pQj50E+eF+G3l0gjFTkEMG1PPBtvpbZ5tA1gjVnPFcdwLKvk2pOwjv8YlMKlzfqQmoaWj6h15VMRsX8zP976bneGiefnpqSMSAG4D82ASrt11CHtTpsNxiMxD6k+HA59V2qkSdwK/PjFDVaUe7iDZuXa1OVhZcJzyVshm87DDdLBYpZ5qw+BZRu8zVYzt9lZahawAXNGwAIHdoCC63voyaYiZqdR/o6jRkDRnx9OZ9CcFxX7aj+Hau+RYimQbKnkkXJERD1WOSIwdEhqICg2Ldbd42zB8w94W2AWD8heT3HiSFFSaguKkdW5iAXCPOqRI9Isyi6vkb8S/VvS763L3J5R/y6TciSo1MT754UTaUJz7RrKaugC6M9IzbMJ/PyLunsaDQnae/E/462/uTeSAeQdMPctQfUI7Tsi3AY+swkF9eG6wP/eh5ge72gr2u/bDmzW+NbUg1G4jsYL2hBjIjBdrvqeGtKqhz/MxkzPzQLbNLeG7o7vdxraXrVdOMQ4Uf1aMeHex9oAI2gGZhO6iEIBS2CQeV8loSUR1ygsarg343IBeMOcEUEk7EpanestjOlpgkVbUoPlCs3pvxjryzwtU/Cp838cOuWfQ65pI11T0OtGs5LkCjkFv6b1QlpC2GbGUMeDVNOZ7kLtvRb2ht4CYKfldOMUySlqjv9bQplY1ywMasY5oVZ9Q3+57u2lv93OeaXZ5kvFNm5Ytc0pMSR1yLsVJQDZbCv0hNbqGO9xBjkvE4bMm7cZixho/JsaUUF5v2x5/cSwYZ2fz976+I5fWUXJiTax7iP+RxgnD2CsQjZgP8HEjaDt+NId94RZlfIV48oheioajaNvKf6bnTj2frCKgzwMx94wQA/sKOusJMSsNmZW99sLAJFHAcQ00xkp0Ee3/DmTbH01bVhFWwSRBeO+eYpWrpIY78Ijv9dcPuFyFTFYUnjo6zRNs6Uzbv/Ywo9N1alC3nx+zhOAWx0oy9vqxqnMo5DjUkjBJ/JNBduWfhesCOdQ4oa3ZShEd8zxlXZIcv2CFYyYrB6sWpic0T7mlxFLS/WdL349lGLumnYMAw1kzpGo4pA5ZeaM7FsKXGdBsIfnz6jmPzj1hOsNvioYNs7yd6Vk/s0NQpas3ih/2sD0mBA3DieH8H/Qla3Kwj8anE+CNVIqbj4fFP2h24UGOzKSWVbtNyF7o8WemaXsZoycEXsd6uHPnZpLiEfbQWrGUaRRfGsk79TnvTY4wn9p635V5fYB2Q9hOvfhGGSkz+J9n',
            encryptedHMAC = encryptedMsg.substring(0, 64),
            encryptedHTML = encryptedMsg.substring(64),
            decryptedHMAC = CryptoJS.HmacSHA256(encryptedHTML, CryptoJS.SHA256(passphrase).toString()).toString();

        if (decryptedHMAC !== encryptedHMAC) {
            return false;
        }

        var plainHTML = decrypt(encryptedHTML, passphrase);
        document.write(plainHTML);
		document.close();

        return true;
    };
</script>
</body>
</html>
