<!doctype html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #FFFFFF;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input {
            outline: 0;
            background: #f2f2f2;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            padding: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #4CAF50;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover, .staticrypt-form .staticrypt-decrypt-button:active, .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #43A047;
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            margin-bottom: 1em;
            background: #76b852; /* fallback for old browsers */
            background: -webkit-linear-gradient(right, #76b852, #8DC26F);
            background: -moz-linear-gradient(right, #76b852, #8DC26F);
            background: -o-linear-gradient(right, #76b852, #8DC26F);
            background: linear-gradient(to left, #76b852, #8DC26F);
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        .staticrypt-footer {
            position: fixed;
            height: 20px;
            font-size: 16px;
            padding: 2px;
            bottom: 0;
            left: 0;
            right: 0;
            margin-bottom: 0;
        }

        .staticrypt-footer p {
            margin: 2px;
            text-align: center;
            float: right;
        }

        .staticrypt-footer a {
            text-decoration: none;
        }
    </style>
</head>

<body class="staticrypt-body">
<div class="staticrypt-page">
    <div class="staticrypt-form">
        <div class="staticrypt-instructions">
            <p class="staticrypt-title">Protected Page</p>
            <p></p>
        </div>

        <hr class="staticrypt-hr">

        <form id="staticrypt-form" action="#" method="post">
            <input id="staticrypt-password"
                   type="password"
                   name="password"
                   placeholder="passphrase"
                   autofocus/>

            <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT"/>
        </form>
    </div>

</div>
<footer class="staticrypt-footer">
    <p class="pull-right">Created with <a href="https://robinmoisson.github.io/staticrypt">StatiCrypt</a></p>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js" integrity="sha384-lp4k1VRKPU9eBnPePjnJ9M2RF3i7PC30gXs70+elCVfgwLwx1tv5+ctxdtwxqZa7" crossorigin="anonymous"></script>

<script> var storageType = "localStorage" 
function passphraseStorageFactory (storageType) {
    return {
        store: function (passphrase) {
            return window[storageType].setItem("passphrase", passphrase)
        },
        get: function () {
            return window[storageType].getItem("passphrase")
        },
        remove: function () {
            return window[storageType].removeItem("passphrase")
        }
    }
}

const passphraseStorage = passphraseStorageFactory(storageType)</script>

<script>
    /**
     * Decrypt a salted msg using a password.
     * Inspired by https://github.com/adonespitogo
     */
    var keySize = 256;
    var iterations = 1000;
    function decrypt (encryptedMsg, pass) {
        var salt = CryptoJS.enc.Hex.parse(encryptedMsg.substr(0, 32));
        var iv = CryptoJS.enc.Hex.parse(encryptedMsg.substr(32, 32))
        var encrypted = encryptedMsg.substring(64);

        var key = CryptoJS.PBKDF2(pass, salt, {
            keySize: keySize/32,
            iterations: iterations
        });

        var decrypted = CryptoJS.AES.decrypt(encrypted, key, {
            iv: iv,
            padding: CryptoJS.pad.Pkcs7,
            mode: CryptoJS.mode.CBC
        }).toString(CryptoJS.enc.Utf8);
        return decrypted;
    }

    window.onload = function () {
        if (passphraseStorage && passphraseStorage.get()) {
            if (decryptWithPassphrase(passphraseStorage.get())) {
                return;
            } else {
                passphraseStorage.remove();
            }
        }

        var form = document.getElementById('staticrypt-form')
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault()
                var passphrase = document.getElementById('staticrypt-password').value
                passphraseStorage && passphraseStorage.store(passphrase)
                if (!decryptWithPassphrase(passphrase)) {
                    alert('Bad passphrase!');
                    return;
                }
            })
        }
    }

    function decryptWithPassphrase(passphrase) {
        var encryptedMsg = '8132737bf82afad241fea9b1f62ef92ba1877b78367fedab93c3667a1f5e5e30c4461cde5c0ea842c80c1642995f1912a2d0cb1e49b2d07fbe5ae91bd02c5d87HbyGT6lvgU50V6eNmgVUdfWH/x+RkPEprtCyIvTlRgO3AWrWUVodARNTaGc6v8WE5eXIHtbhOvWn9jgPPTDnNxMnj4BloD7wczH7AhLKi9yJIDa+F2mVQJgnQHt9e7GKnc3k40SAwtjk1Jv7Jw7ee6Cys9JUWl+6rkRP2NpfCeiWcjXYDcDOwqzxh2VoT2yu1671zALCSsx4E1jx+MoHQJnqyGiEB9xVW9d3Qv6GWQpuJd53jDZOitvJAiuNZYdTQVTOADpCfEJmA5dIresl+EWDKIYVPn9M+9q7wd9YK4fsYQx4xg4Jddt4xMWXqfAnwDQ8wVw+cJNliTk2v1WNzcGZ4xqaeoSswDIXHmCVj3n/g/t1Hh8MnMSN6ax+SLW13hxb3sH7jxorpOENhy0mHrXzZ+++f5Xruh/zacQVaW0JpAaTtGl1JNQZeSpyeb+TyB2FGLdgEKTN919IxGAaP7nWRQ3CMgiOCDt0x6LgDbj2+Ee3TOeHg/4MVqBqSK07929rFGI/KCnjZTC/vTG3zLZIYV3FDwDRlG2R8Gmu3J+PQ9nhaD14WJzF0e2lBZJuqokpmz2DCmLRav0dWQLDe/Vm9LgRMSxQ0jrZ9wtqvGQBgbsZofEIgvXorCRe5qpoFXcXDDNTxjwuClU9Z28ZrVtX19dOI29N+RRWRfkaT1Y9nUGMpaOVSDZzi920rSDDUd/pQVFjwT8u6hSnbjnY3PBw7L4Qinxddb1RpLbdyVWnGurDX7Sj9AF0dBfDQub7B2HiAq4cfFmt+ONf2AYfCLlqLjoFoIL5gBF5DNjPuXI4JcgKTcbIlm/MqLmJM3ictX/qirQl6L74m8Bx39f1vQbaEcGdAo6KH5AF7QLzZZbWXw7VWeM0djX5hzQmUM9dkbRSuRv/LEZLn6khavYyzifAWwxfzNFwXrAqDFSEmZopVbMIEEZ29GcP03/kkOy+BVYszTxZjiD0oVbxEeT8cp8/Jwcbm+3OM+Z5Wd9VhrZKwBcLwGLlm6wPsMXedpgR/EMVcDvUA9w/O/bmXxu0BKRv9qmn7rKUpKWqGQbPQ7Z3kUkzAmaaStSLOQZcS0B4fhnhlcFHEk2Mc+Ldu/5XbfkQF6CPCUaQyqTgz/CmIEvDX6Oo6KQS4oLwatLiP8KtxI1sWNRKFmkJD407ZfTygEQsYwIQlnCN40jh2FrXXvkAiChc+FRr5kU+BrQzGaKZ0RdEQbr2xxWZbiRUuskOA1YP9IFj1EEHq++jA0Qk4iHEwpfewB+PcozqaV8pJZu65aBkd6At7gfiLWWqeIuutReIwi7r4aYrsfKhmiqPtsXqO4bE/VOJRGaVh86h5GewNi3jff/S5twCyHz3lmFVtBMUfq+sQDgpMRUxtAkXQ7dN5nX4ZkxxuZFbUzEoDbkxU14pOE0+bYXaMAYldCYu7ZKueFZtnc3RHlMBLQ5y/W7XeW6DzMYbqJIZEVEVchpcIQgjlyVPQY6DASIMNl1W6vxsoA6SkC3D78vWOWucEDyQRmAYgDb/VHzFAaPchSQTHawwKP133tOZ07OB/dOvRdQlGjJ0sbwuzstGsJTTVWNw4oWSPzaOD27Z/eK23ZHRc7ok+NVYcf23zD4J3ZpVK1Uu6bNsv4BFJjY821bILYD0hrdMKch17IXnsonuvgMXtE86RUUQHUzIz4rKwP4vOzcZ3MwmdJ0qH1vPPInsC8iojrWY9zQAvRSKNn7iIWGMzqIfgxIfHaIIHZAntzuvkJK6N48pq2Q5K2MrhQMAqhyg4tYCAg/QYitBF/mBk8mJAO3j819JJMsm4XCMYw6zENJnQEkM8HWYoVKOVP8H9EKuID1SMnBB91PmbZHnCKtsLOaXmwZLQqPdLexBdzTdd27u91e8wqYuPJKD/+sm300qzfx4UUMFnYO9ZwMN9d+oBRSMFEabwKdEoRPkrSt1SJGgZR79+glzuMHhQuexMU1lkvlDvDAIhRGilrhRgbkZX/4CduTxLVMovj7phba1nA4YFOveKvQJi2dT3sK5ClY1G+SDVH3iRC+gPChQxq2TM22xwlzyzbPXNA5KgwY82s5RocKwPlMMm0GZvaAPbviVv3WRdRMG1uUOB3nzFTFEEYgc3bDzeVxGllx86qQc60no2j6rVDjckarzyliZWEF4+12REeSKBoTA1aNI5JYN8XILrI9CDD5NYL2zM+fgqoAAkbLoU3OYVRg/6F/jGybwPPdL6N4wo6puDyPSAYkYgFlp5gcDAox9ZdsHt25aiTJMDiM86TPk1Jx1x9BJ8eJdtW/soWE4XHyjM0qnjP+AnzHJ+lmvFO6Z7q3S9Nvut7j4aJwIPq9mcPAz7KBDbNFeaUumB90fGbQe+xvZsvDrgXLbc2ZmtH4L8wTBUQu7c2f2iP9fV/Lxj27Z/faSqCUTQCO22Bydym/ByI0ajP+JvO4MIZYDtCQyqFWi9j8hu1yFYkrOUKbtrEdwKd4lDLm2NdQ2ikDIuqquxUflUPv9ZfSsAROE9g8zANYkBgsXIZq9qS/8wep5y3FTRUjUMuuHSx72f7EsyHiNbqyZMWaW/Vbyb3OPKOp+4nJoaH4RUJM18EQsIR1xef8pDdi8XkePNNQXrh1FxHJnYB1oG28BqjcBHsi17inMbXX2Kfs01PDOjk9aP8MmNwDvZLjinTXx0MISoQKS3xP8CwXMY8lWni7tmIybiBwk471ZmKJFSDN9FZrumrPNSzwWSomlhdp37EfVsXa/+FihWEw/3n0NYGPZYFOTeAMUQz+WQGblGRcvxFBR6Q2NGzgKyw6A4AbPHBZ74Qd/ocFZD5kKx1QZJMO53sJUorkcFmUGe5ByIqWputyk+0PDtlThghZeD4GQV8ulyPf3Dvdj/4lDZm2gkCPTGXa4jHXhrPRY1zzjujBEUTYHfKmZcM2xtOOxDPDgkODrl0Zd4SEGQz8ajDR8DRWpGFC4YWZvvfizX07JtHbxBJal1x9NzCmUC+6NzPOEgTlowIdGA7lZMcheVBpkjE6IQvBF1verlCt3WsNlaEQxoO1srbk6X2GI0KLBB5zPiNlHdfgKgVKfRaRqCWpaWI//46+K+3V3anZF6jLlMf5H1ZT4TzT5AWIplpYEs9/1SlRHChnwFUSD6m5um4SG9rCE+eLGkHGRz7bEPmtX3xzhiPfSEvFgggl2/juLkNfD1d7J1XAxiJxVD2m0/yth/2hb8PanrNibldYmJwtFxKhJurWXu2SJt9xXQSJzUQNdXepBsPgYEvxXWEhKDJf/TiwkKrKIQMCbItd8cN5l2vxgtI7oqAqRhpG0+xuR7klllWGYHXwUy395t89paXvKZL0me8Ee3AmWRRAlb+8iqDb7F5A4d0EV6He7TqMTvdF5acCg0ytQWD/diKYsCD2u25HklvdiATUBXRJaRqcQODdvoYIai6vUVE8Y/SJYvEWDIrR620GRygPbL+o18bZMMi63iKMb7ZqkXbDMFA6Ev86jGvaKomMNcUVG9ALTK0bN9hKzP28S99pOnKVl8BRqGfF7ntOxSEYVbSj07rdhmnkLbpX78oJgEHQqTsZKQYiCABC2J2VshpRlzjrRKc3xvclJmsCZ/U8gePHtuneW6oEYrq/VNScQFdMgxkwUyDcw/He8tDsJGzNfDzf+DObGnonN7yTQeXJu1bFmSLFYethSTQ4nMsQ3GvjbLnNGdHuODb7THTj5rOf1LjiLxCLSbJDcywC5/I/EpvA+VvKG/WSM80rzkcIDlNIqQLQ/6TwlXV+USWeHG+2Jmsuw3Pbj9I+GVMW1qeEHM4qbkFWBpmYQHG0rT2YLZj+ztOclUElirHbY4XJn09csuma1cuU3dAWvacS/bZ4bqU4jXRRD7zF3GjwhKXMlz/Ef3sq906XNVUwEq9s8hpZPW71i5NBBrUXhWqgUSb4tCTDpo0abeATrxVsO5NJs0LfyG/OwGN58j01NPpvzaIkTZa9DJfH5Is/QL/IYJ7hoJ/y9y1b1EJmsH//oa02ATRRO5DVKdOgQroNE+DSLk92ZBAyx++UVajIcofeORUjdPOaLjKTHQUkjOqczXaYbYjod5RGaJIpAxIqBF6nKoTq8G9V23aFP2HYQrpUTrWKUNX8uRv98D0Wem9+I3Sf6UKdTfTe9JMCgB/dhAB06u0DkHCx7Uc/GzuAn7B8TXUd5/Xc9GDgUe3HLs8mxqVcsb8YFEghpeNALm4sLv1jUDvp54UweukJaBpvEOuZTl6vr/NVm3DDWlcMdjD/esYxQkKRw7srGecj7trEn0/arN6By//6Vg0LpqzhsjZQflZEwxl4FvVwgUpalZ1XwkbG6oazm7SOYFvpUlzjQHVycoD7i0tfEM6aUdjTvGYZL1VR0UoNGFHkGLyq/JGRj3I5O/wcvjsNUAdiMwZBHBleCFw5eNL8oFmaGj8M7OZZLbE5oGm8I027ZAay8dZGKASun+6PPvjnlWcVfiCi9DFlK6KljYhnGPf5gjib/oGKK7QRhreL91O5ezfNWxRNgQA97nqz1Je49b0i4zxfgDvDOeoZN1bofdXW4eDpGra6u3DR+xN5ZJI2PNMq0N6RUsiwfQOnwUUAJo9giAyf7uFu4YlXmMWPktcuB19VqToj4H8jFrn1pO8Riygo6TCIgHZ5gs5Jssbwe4Ejw73WHxWKMdiH4wS9tKX2SjAjSujIKwPWwsclKgMrzx1BY4MrNG5V+TZYFA/0lHWd7QNjO+Enp+a13jaN92dHqx27yA+QB67gzzQY5XUhlKK/G7DEnl1gQBifvtJ5EZRan5FkqZWjBkEngewGFKsUVjNhNBn0XgWU8L7y+i8boVngQh2AkMisGPexOY3LMMUiBv4mxvWJLlvtPJJ2bbIvfmpom/QTpmJuGUTgr43g0MBvXJzKdI8kiFaGT5CYRM0uFdEaJ/e6+uv05935ZulIjM4CFZcM9CxxKlLZYhGGymwqSFb2wUwfePL477vvbhZzceIPd+iAmVbtcgLIyut+Rwww6KRoexcLAlclRze468LhawbRyaNiYgmxu81aZmZVdTrXwgRtnL68ZDES/m4pN89nNfm6nCUKm6Xo+ER9sXBqABXaHBTuJ4Fi731aFaydz6apsQZGGVQ9C+1GbNKseK78lDSwJ3D0jKABlITP713VLBhM512xwGb1TcDiDbcDjsUW42gfNMz/IsizTvHzl4S0OaJe3kKuoxEfdsHbFBWPN2o1Bw/MmodHAnSYGfm7xfSW7zSJVUCKMPFJpG6Ea9i2ZzT+hqoRp6/xN4VybvxvkGNiKm9vR/QCKNPW82F15NiQdYYf13Svn1pqDynxTtqGbtxbevCAiYL8sHXm+6oI8lPi9T5446sk3SSABSiHLW6qNgCQcgd+/Myk+1GTcg66KbtMPIA0wFam4X5f43Gzw0Rxg6iSwNtFYWBVqDU1/k1WZObRoXYvj9G0d39slL7batt4NFD/fOkQQYMHDqmnXKUpbNu3zHoAFrD74dgtkXNvAkNq5R/mojYrx3YpNlx9wyyrA4mYz8rYSAnfhYNbRrXnNVGxObzrEX58398aOjpBEEG7YLG99eZvQRSSQN18JCXzQbbfHptXs5mGjUG4BFbmjhzVS29xSoE+o3P3ZZqKYqxLxsU+UFGJiF4AAQNVEu/Ngk2wiTCNL/lbXtKf98m2Zzw+9pEvCsqZCoslLXkPZXIH1pT9knnz+XLbrA/SmFSq3KDqNdkr83PGvfwT3ZxIvpGUiDfhJWBvXMNz0nApcniwuG4z6Pe3oB4xgVm3QGzUSmmWpBvHOViIHaawehzBtf2UgkZXvc2sLXothO7bRy+YaD/qKQNE/DOMB7E8vp/PXnU7qYQmfcZ/cDPodGcqSzMPiHJmmTcFf+/Mgc6MpZz7Be7N6yOFGhuf8qcuL2+c5QMt2ghNp7lrkh04Rk1DZ4mGue9iDfzmu1739iwWnuIJaU6gZ1XUdY4NXr4s55VeOPEOD1Y1tsIUcBOuLUiTAKvStc4cAPYMxzGFkf/RzlBlaeIFTZB/Bq00wYE8BavnqVjU/eFcnmiKGXXMTwomNsUbCkb0fR5FU3YYUB6w/N5Ugk3DAPxUC8uVcJP0AJYGDthzGQlHByXyC9jgWXlLWIdC2pygZiABKl/sNlgZxxoiv0dgNGHaYCVJcvWT0b3lHtQ6DhdAGlcXZP3Z4nF0ZjrodsAkEsF8xfUnXJTXOxjiqQJXGJCaAAdSGloM9dXzsCUYSnQn33f5xZAQ1gWwYpuaamYPPC7ACqEOcL62VfYgCmc1+RJTG/sAYcSE5JWURbMFoeckubP3PP/Y1ResrNJ1mKuLkZTRV4uOO3FQJL5qGEWV70RldtXO5',
            encryptedHMAC = encryptedMsg.substring(0, 64),
            encryptedHTML = encryptedMsg.substring(64),
            decryptedHMAC = CryptoJS.HmacSHA256(encryptedHTML, CryptoJS.SHA256(passphrase).toString()).toString();

        if (decryptedHMAC !== encryptedHMAC) {
            return false;
        }

        var plainHTML = decrypt(encryptedHTML, passphrase);
        document.write(plainHTML);
		document.close();

        return true;
    };
</script>
</body>
</html>
