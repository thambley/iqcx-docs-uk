<!doctype html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #FFFFFF;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input {
            outline: 0;
            background: #f2f2f2;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            padding: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #4CAF50;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover, .staticrypt-form .staticrypt-decrypt-button:active, .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #43A047;
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            margin-bottom: 1em;
            background: #76b852; /* fallback for old browsers */
            background: -webkit-linear-gradient(right, #76b852, #8DC26F);
            background: -moz-linear-gradient(right, #76b852, #8DC26F);
            background: -o-linear-gradient(right, #76b852, #8DC26F);
            background: linear-gradient(to left, #76b852, #8DC26F);
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        .staticrypt-footer {
            position: fixed;
            height: 20px;
            font-size: 16px;
            padding: 2px;
            bottom: 0;
            left: 0;
            right: 0;
            margin-bottom: 0;
        }

        .staticrypt-footer p {
            margin: 2px;
            text-align: center;
            float: right;
        }

        .staticrypt-footer a {
            text-decoration: none;
        }
    </style>
</head>

<body class="staticrypt-body">
<div class="staticrypt-page">
    <div class="staticrypt-form">
        <div class="staticrypt-instructions">
            <p class="staticrypt-title">Protected Page</p>
            <p></p>
        </div>

        <hr class="staticrypt-hr">

        <form id="staticrypt-form" action="#" method="post">
            <input id="staticrypt-password"
                   type="password"
                   name="password"
                   placeholder="passphrase"
                   autofocus/>

            <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT"/>
        </form>
    </div>

</div>
<footer class="staticrypt-footer">
    <p class="pull-right">Created with <a href="https://robinmoisson.github.io/staticrypt">StatiCrypt</a></p>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js" integrity="sha384-lp4k1VRKPU9eBnPePjnJ9M2RF3i7PC30gXs70+elCVfgwLwx1tv5+ctxdtwxqZa7" crossorigin="anonymous"></script>

<script> var storageType = "localStorage" 
function passphraseStorageFactory (storageType) {
    return {
        store: function (passphrase) {
            return window[storageType].setItem("passphrase", passphrase)
        },
        get: function () {
            return window[storageType].getItem("passphrase")
        },
        remove: function () {
            return window[storageType].removeItem("passphrase")
        }
    }
}

const passphraseStorage = passphraseStorageFactory(storageType)</script>

<script>
    /**
     * Decrypt a salted msg using a password.
     * Inspired by https://github.com/adonespitogo
     */
    var keySize = 256;
    var iterations = 1000;
    function decrypt (encryptedMsg, pass) {
        var salt = CryptoJS.enc.Hex.parse(encryptedMsg.substr(0, 32));
        var iv = CryptoJS.enc.Hex.parse(encryptedMsg.substr(32, 32))
        var encrypted = encryptedMsg.substring(64);

        var key = CryptoJS.PBKDF2(pass, salt, {
            keySize: keySize/32,
            iterations: iterations
        });

        var decrypted = CryptoJS.AES.decrypt(encrypted, key, {
            iv: iv,
            padding: CryptoJS.pad.Pkcs7,
            mode: CryptoJS.mode.CBC
        }).toString(CryptoJS.enc.Utf8);
        return decrypted;
    }

    window.onload = function () {
        if (passphraseStorage && passphraseStorage.get()) {
            if (decryptWithPassphrase(passphraseStorage.get())) {
                return;
            } else {
                passphraseStorage.remove();
            }
        }

        var form = document.getElementById('staticrypt-form')
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault()
                var passphrase = document.getElementById('staticrypt-password').value
                passphraseStorage && passphraseStorage.store(passphrase)
                if (!decryptWithPassphrase(passphrase)) {
                    alert('Bad passphrase!');
                    return;
                }
            })
        }
    }

    function decryptWithPassphrase(passphrase) {
        var encryptedMsg = '4fc34dde3c1ab31a4f30e66d27b8a92b9b33a3846a66e12cc0c6438688df8cdf412b374a3b026e2cae4290c29658e11ec53272b6c80144e1d515b199d4d58112iamfIHcTPSBjSXtPatj7suUJ0qfEwKUhKPy/z4CqfrcaWywpVZuYnCsrJeRurfgk6cg/B1Iy0jtIqvRsJ5Eg+nlJIKuRLBCa+enMpMIICDGDrgTWWajScZE8zdKNvvbQIRri+xWy9YZOO+BlYK5LOZSdpimkr0cGro0mQsZjgO8k4K8QGkzJ/DmI/4KA8Oaj0bs5Gudh///+4a2oZ3eEEl83iV+heDf3O1m88rBkGnHsrJ8ba/zKRA8DaQJGBVz3Qi335vgq58rip06w/GMkWAASVFB67HUrFo8bcjeTpJKQaxohCQvF5nx0Vdcxr3J0IJJ1/TQKIiKqtyPwWnwBrYFuH1RZluk9olzB2Zlgh/rOZcNUEWp9lzMOt/lagHBZjoZjZx87Z3WlitGdReTMJkQSiA1Dnl+Tl2srIXr5wX64D0NJGeVD+Ntvgg3FtYYtY8huQSj5Bj4KGIJbsewg/7NUPwPWF7S0Lk+KtUmzi32DPAtlw9VPGj/ktbI90qBXw3VtWdxmsdnahi/5byyeY7DXHR398lzKSP5Fav4TlBk1BCEiZ0Kmsf/hznfRNTZC8LClq1sivqxUsHtu6RERdESfkkVD/bYwvojizf8B0XEz522npqAXVwrRh5Na2sXeBcx0v/DxQ4CA8B0Yx9cC1VYE627iABiszcUzOIYUQ5fhaLtOJaWuGT3dzmIFhyakSLfrI0Spi/CUPfLTtPtsBO5mAyto1btYEDENF89OFc4VafWjfqfEoWXcbT2EvrK11Dt/9vX8CzBbbeyba2XSHYWfuXVK3cJNNFP7NbMp0L7l/qiBZlpTR1SbajNGTzuwLeDKmmFc5Yktc7sznnPFJ/LSHPBeEUVnrhx+uMFAqgB4u99MesDOuY2xsG9vaF2myV4Aapicj0/8S/iAJkR9hfuxtbROQtUYXQGS/eV2PJ1eTESULZy6m1Gk8TGTcW3PO9SeEMxOPJ6ueCxyS7hNHb1yiY/jEu2yVCJR/8njKQfhUayZ6pgPLLV+rgYcYLpG/6i21Ps7o5esHJh69RI4C+w0jiN6kbc3zhVfEvJKllM3rhBhCaxcDcT/71S0xhQVCn5ouWnkkHzBdNc4qcSowJBhpyCWZC2Vn1c/esQZQoUlJ9FJuq3N/yo//Oky1otQzoaPHyQI6dc8BOpKC6iph/pQAnp6HQei9HyLWMK2CqOcYm9rFh5F00amt3Z34qK1FQg+Xf6xU9cfA+gsvOCEw7zVtTD2QNnqOU2jsuXj2bXl6RMA+Ejr6IhUS7q5jUehxt5pUQST8pAz7uYj++qBJum1VnNI7uA+oDYR08WBzXR/jMsWP8B98s/X5KdcfG3VQDXtYy3JnTYwtNH6UxsV0nghP3hPiuVjqPPlaMmFBp8Lv986patNtl8dus6Hep7ab8EhW4MvL+kGMEMi0RyisfMc2XJ8Ln54YfryibgG7z08fjbvhmxLCdgB0aSTI3cGXVOwbPSoANb5QqRh8ZA7RrwBvNl4J7KJYlcpRsDE3n/7nrReQsU7BG3vWlSppBkh0XFyXDjjGoE0lW8pkk/Z/f0JMpRfsmcXhzrbkZ5bXrlmKgKFR2TMQ33KB+1bk6KqAVUYRNbi6twtl92ghrkV1qBHsNEZH3yLgYp3EuBGRwEhViIh/fiBV8Bl8VZRJ0DXl3sKHMcFusQc3IM3jBXvQXmFqYZwQtBW1Z0g2PAlvgz1u50yq5MuFUJxiYNYuAFavHZySBrOXB9ALa94QyhAhFHUE8UbkowJ/VZGauOfrCGvIJd3VzrZAvDaP5bU8RqYztk3KwKkp5kCuEgiLrlu9Vnzyr0Ycl9YIVLxXz4+aE35gC3boQdFbJibHScEnx+6JxS1OtUlJyCylt0/yx7yYGEBFmVWuG0vf7uHsyrJJ45eelySHutGVrgr12ZZaY4Z281Ghb38jT3IaQIqciU4+QqoB3frjO+fWwOhGgA7vGJPvLCpgSd0vHC6yZtN7IqKVtnTkw61EOlbL/IdN3wiHhzTwMuIC9RxM9NXXyEHX/U/zI12yiSibXt9p59ZRFDUKv2KkwrYGthjKLnxlM49I6HCdOBY0S++XgxYqw1SYU+JCPMzcvAEBpyLWdGyuL8mFu5b96SviG8E537IBho6eUc34h74G8iliLxe9Dor/RENsTC0+abi0Qyq0F8cezmoD3/M0wIdBTVeiJpv6yMJvOkfF3FrkhKbXXjcg/zNEYUQRU9vXz1zRRm0cglE6rWxPl/h+E9fXRsu8X18cHZcbzbrA4xFhlD5galzzrII3jxzVAn6MGLGVkeipEOdPX7iF5PAa25uf+WQkHL30PP1ZPXcyglQVdJajPfj6mketoq8tRPdZnCbR78PZGgJRvM+vFAOseLK40yv9v/I40jfk9dS8KBmitmvp92Zsgw3xziicbOF4oaECSS6DCfneHsi1HikHxRpaZfqwUhhIO1fsZcma1qKul2cjHcZwSw29iHfNHz4Pky8DOlrC6WyaHZCK/I9uWM1720GHHDEQTyQvqt5qarCJBVaDHvUA9ulu0FEx0KPwpucIBtbiUb2WmbcDkS1ZC9h82L8YafRPH4OaE4Z3GdSKwFYzq0E9SVpwlGiXFCUZhRipzFk7VycW76/K2uwtSfxVnDUZQ819yo0QwUaT+A5OHWCPwdy8MKdnLzrHIjU5VyOgO3ls0frUFS/iA+J/f/lxCz2p4zsvTgL5Eh0as4uzIqU2pR8uWumBJoOWSHAFpd1SlDHDp69/qA/IPmihqjXSD3mDSyUU/uqQtB1jZt+vJKXgDevtDGKgCVEFw3TAt/a0QDUglww4qSXc5g6WpLh/e29nleXaN71v449HXkaUCbrOfiKkRILIfBBdAP9N7avQF3dGfs/TbNPjW1XirOz5qVFbnrnvBpOJ/QWXpkO0xpcxJAsZfEjFhg5sMDXPP9mIWOTL+GsYS+3pzMIqQFV+mgEp3TlYSy1NfuwKR5r03/VfbfuI3UdEV7uXHbCnrIIHiYV9jv3YSsoreQsdqIcNgmUuuXfmUI52Z07vsdlgmU3nwv/2lLwiWY6Nq1WXq5T9WcEDaWM3jHVChfi9as+ycT/mBzapmyC1bd7fIx/VB+lxHNk1EJUjvgTsa86SuZh0ouYbKIkVnrnWsz6MsUrLC3q8/mncJxN8Io1x5R1A99759l4qCsMwsxz8ItRCM5TQNH5/j9OlAcXaotbCQAPOZKXf4f8nDZDDYvRX6TBMGQm/2SJEcUpylhTlscVPj2xptIxTbta/D6eZEQd/zdXOazMRJ7Ci2DSPHGhCakcPGJr5sHUQXnsg0QzN3Q5lkFKvReyKbZ52KcrNJfPAa0BU/qfwDrr3in4x4KY3a20YXTjuYS/FRnD5uNPQIpDT5gMCUxt5J9xSUtUsAXxCl7c4/32urDQEWw5Q17uvblxtwoOlGiawI9kMjjxlDmD3gF2IwoVp8p7GH8SuCAJCqvC3IjFZQhv5AbblWEIyxtgZA30PNUQW/GnODxd8Iez2j0aw/fkUbJynyM1C4/TgKxJs5PePQozZmKq2fSJnxgx3PhoqC3LrAqhGr9NSgtE0sDXIW1FPFFUChGH7jObNQKC+mIRXl1vlgKpDchPI/t4pz84gWlTEoz6/XvcCwCSl15sN58PP4GyBjCdciHdJAMC3aDsR+tN5XIm6OlrUNcdo/QNy27PuO/o1GEtSiADDGWFS+0+dGflAmVB/PL/IMELAKILaKDkNGJbXSlhibOOzdJ6tucqwg/b3RdQZgnnUj0GR/WxF/9MNIZndrjl4mYhIETbFzPFh9juWzR891MuT0icbAYZIl2IGLycF1zFMKtkqrTSiD6FELjroZl5pisPoVxSndZepMslzXleaW/UPEXF2hAX9JhjJ7dILRThSna+pfYVFIRZEPT+XTirYe8gwMUoQHQIU5FSmLMiizBnmQ9aORfOBZMBgKyscW2qXUq05PlPoUJAvr1ukOr4ADjAg5yHtTlPwQ5FfuNf14BhBXvpoSbaI+uxTct5XxdNmChAF/RyWa/obpdOiq7dM9YcJrmWZ334U2H2iVnguSsc4tV5eAq2kYw8nsoRdxIOuaNaFJM8XfOqvorbOjBgR8OwfFmR7/jZ0OvmgBd4RusrVvlcAq7Hd4G8At3NZRtgwHCbSHFaWOvgfXrtLoXAp32UEkf/3f/scEN1PcekX0/OKeCdBveLCq2m1vAM7628xjQNjhVSWx+e0lcA8vp+yTUx26LgNpr2YauW1eiva5PUN+UFIGcjwlTyG0suFk5RgnQke8YlRsbcIElQmB6oelPV3i/JI2HFrM+895wCcEPeAh4xmoHZgvvrl7H4qlfwO9ZNVZ/xUjZxfGHv8fhJwM/KBVgs+hm+G+e1LKCwyI7fUwwU+VyT+WVCE7uQvW2sArGr9s7NORMiq0qYKB8k4/TTvWGbcE+yR+yAEZsixtKztmLasHRuiNQBCQuH4VUM6crGf+W2J0G6Dgm9BbPxojI5KwsTpaJ05+H2eMOJKQYROxYFpdpDzdYl4XU6VVSqbPSvokmGXSxw3GzoXSwere9NwMtBK2x0zLA5a/ZZYbcaLJnKEr3eEZ73u0KJWEYAkexM6J4PneUMQj59uYZFYN0+3uTlZyAMziStRPhq4ji4H8zUNqRZlCVf8MO4a/G0NdLwKocf1XGeXVs0qvSj4G4MWMqluczOK2llBEhA7qchBOzqD2/NC3ntqUcgyltXWPxVuMeN8V0Cl7PdzQkPuNsrxjRSq2MK7KBJN1NCeXegxoRqqDcZYFGRXaT1TwyzwdDlaVmlQz2HRK4lvsHqf3qosp5TkbdRPzG2fh0e3vXZkLiMVJNxyIdfUnqSZZkiyyxuYkVg2kQEIqgpQHvdlS3XZB1QnGDvqXe5pCYKHXIKDIyy4UHJORZXUJi7FqXlt73/zPef4QRrOeNOsyhIW7UVIhI10lSxXcKEGrnrgxmAFRLRNQ8oteijCTivyaE1G4wVDbkp850AL/zdkIyW61mh3mTV6wqthrTaZCVfQz7dyXFtZOFpKc2MJlVvSes1/6Pi1ipsjGFnLK5221zj9Q6uBmgYuXmVGls2QbOkvrob93PxNMWgVsTi9QdtDmSkJoU54J6CWEzdmc8oHdXoeXgPPmSHXjWRsZ1mkWcrzfWr4IFnQ7w3Bs6poiHvyMY7IUbNGRcm2aVG1kiJxNvWbomdqyldOUoge43U0MuMDKOm9gjBXaI5CXnym6XsZXyXmbHOwt1xgqvS9mISkSggTDsa2mkVYZ0w+u6JxYdYqIqP2xWEzc34BRTTZNUH9KRGmWoHgBsXt7dv5e0WSF8XjIdOomifj5wnjkJxDcI/+FK2IPoqo8GGxn3L7GqyXgCbcZ2O7HhAp4liljHacvB37qXrUl7J/kIYqnfif/xfEt2pfaWO1i9CIj0LAg62Ajhwcq5P1e+gexthxpLZWP4g4dL3EdIGKEyHdkivL8rTJCyqLEn0+j16f7WVYCBZl8+UqrRsr4DXEXsc+dVSf9Qvk01x2PFw0T7b5YslFB3SLFYmH9lDQEtD/VcrTx9zZYK7AY6/2MbleIolkNhZIV7VjQ+9tDTsii5HZwN2u79M4nUAG506EOrTKWKx/pPDXAjMcWUwXd2QcHLM9aKvrPlDgK5x9DlD/8HXlONiLZ7BUi9obMt3VccvV/5Qr+vod6q6r9obe9xVWAlCNeq9JtJcMnaOhXdaQGSjbW13AmSRJZAdASmPOGQVW6KJXQt3vqeb5o6Zye+mypu6HIuprH54lrRYtjBPWyTxSJNxjN4qBlS/bC0tqKoXYrgftdhbaf2pD4blU4Sv2Qg+caRziMkfH6oQ3bKXnxctTZj+3j/9seVam7CDVaxzte+YsWPaMPsc2NWTcHB7QHYn6g65SSiy8o5KSI3hLurY/tRvWDMkWxYoL21e9Jua4+B2HFuWXRU1erd4zW+a55HxRvr+FVBDNJT7KIBpU85VGuvT8I7s7ipKVPXN/JuoiL/Ii9QEQlW3C8s3yAnBoT6rxbNIqyoc/HQjWnAYi57PdpztROZV8kGsS39e+Ry6+Q5tIuYr4jMMbiBcptc357bo8Ps+LY8sWq9ugG2jOwshBG74vvOcogLtYo8gG8QjY3VqynuzjhmwE29niQnffnt7fPX5QoNK4/aAraJyMBDqu+sKrzeSFV1pUXZvICdAycGgD/z6kLZtnwsZSZXSOH0q+IzcuDaeAh9cNugiM93Wm+xjkOa6YA/toEWgvtRaIcX/ISJNBvDuWjRp7/kJuJn2jjXfXgbjRrOFIfMR3MLkyJq3kb5uZ/IQprwQNWMi+F9h4Yaeq+NEWf6T1s7TWrzC7RtE',
            encryptedHMAC = encryptedMsg.substring(0, 64),
            encryptedHTML = encryptedMsg.substring(64),
            decryptedHMAC = CryptoJS.HmacSHA256(encryptedHTML, CryptoJS.SHA256(passphrase).toString()).toString();

        if (decryptedHMAC !== encryptedHMAC) {
            return false;
        }

        var plainHTML = decrypt(encryptedHTML, passphrase);
        document.write(plainHTML);
		document.close();

        return true;
    };
</script>
</body>
</html>
