<!doctype html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #FFFFFF;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input {
            outline: 0;
            background: #f2f2f2;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            padding: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #4CAF50;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover, .staticrypt-form .staticrypt-decrypt-button:active, .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #43A047;
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            margin-bottom: 1em;
            background: #76b852; /* fallback for old browsers */
            background: -webkit-linear-gradient(right, #76b852, #8DC26F);
            background: -moz-linear-gradient(right, #76b852, #8DC26F);
            background: -o-linear-gradient(right, #76b852, #8DC26F);
            background: linear-gradient(to left, #76b852, #8DC26F);
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        .staticrypt-footer {
            position: fixed;
            height: 20px;
            font-size: 16px;
            padding: 2px;
            bottom: 0;
            left: 0;
            right: 0;
            margin-bottom: 0;
        }

        .staticrypt-footer p {
            margin: 2px;
            text-align: center;
            float: right;
        }

        .staticrypt-footer a {
            text-decoration: none;
        }
    </style>
</head>

<body class="staticrypt-body">
<div class="staticrypt-page">
    <div class="staticrypt-form">
        <div class="staticrypt-instructions">
            <p class="staticrypt-title">Protected Page</p>
            <p></p>
        </div>

        <hr class="staticrypt-hr">

        <form id="staticrypt-form" action="#" method="post">
            <input id="staticrypt-password"
                   type="password"
                   name="password"
                   placeholder="passphrase"
                   autofocus/>

            <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT"/>
        </form>
    </div>

</div>
<footer class="staticrypt-footer">
    <p class="pull-right">Created with <a href="https://robinmoisson.github.io/staticrypt">StatiCrypt</a></p>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js" integrity="sha384-lp4k1VRKPU9eBnPePjnJ9M2RF3i7PC30gXs70+elCVfgwLwx1tv5+ctxdtwxqZa7" crossorigin="anonymous"></script>

<script> var storageType = "localStorage" 
function passphraseStorageFactory (storageType) {
    return {
        store: function (passphrase) {
            return window[storageType].setItem("passphrase", passphrase)
        },
        get: function () {
            return window[storageType].getItem("passphrase")
        },
        remove: function () {
            return window[storageType].removeItem("passphrase")
        }
    }
}

const passphraseStorage = passphraseStorageFactory(storageType)</script>

<script>
    /**
     * Decrypt a salted msg using a password.
     * Inspired by https://github.com/adonespitogo
     */
    var keySize = 256;
    var iterations = 1000;
    function decrypt (encryptedMsg, pass) {
        var salt = CryptoJS.enc.Hex.parse(encryptedMsg.substr(0, 32));
        var iv = CryptoJS.enc.Hex.parse(encryptedMsg.substr(32, 32))
        var encrypted = encryptedMsg.substring(64);

        var key = CryptoJS.PBKDF2(pass, salt, {
            keySize: keySize/32,
            iterations: iterations
        });

        var decrypted = CryptoJS.AES.decrypt(encrypted, key, {
            iv: iv,
            padding: CryptoJS.pad.Pkcs7,
            mode: CryptoJS.mode.CBC
        }).toString(CryptoJS.enc.Utf8);
        return decrypted;
    }

    window.onload = function () {
        if (passphraseStorage && passphraseStorage.get()) {
            if (decryptWithPassphrase(passphraseStorage.get())) {
                return;
            } else {
                passphraseStorage.remove();
            }
        }

        var form = document.getElementById('staticrypt-form')
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault()
                var passphrase = document.getElementById('staticrypt-password').value
                passphraseStorage && passphraseStorage.store(passphrase)
                if (!decryptWithPassphrase(passphrase)) {
                    alert('Bad passphrase!');
                    return;
                }
            })
        }
    }

    function decryptWithPassphrase(passphrase) {
        var encryptedMsg = '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',
            encryptedHMAC = encryptedMsg.substring(0, 64),
            encryptedHTML = encryptedMsg.substring(64),
            decryptedHMAC = CryptoJS.HmacSHA256(encryptedHTML, CryptoJS.SHA256(passphrase).toString()).toString();

        if (decryptedHMAC !== encryptedHMAC) {
            return false;
        }

        var plainHTML = decrypt(encryptedHTML, passphrase);
        document.write(plainHTML);
		document.close();

        return true;
    };
</script>
</body>
</html>
