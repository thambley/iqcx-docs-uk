<!doctype html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #FFFFFF;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input {
            outline: 0;
            background: #f2f2f2;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            padding: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #4CAF50;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover, .staticrypt-form .staticrypt-decrypt-button:active, .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #43A047;
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            margin-bottom: 1em;
            background: #76b852; /* fallback for old browsers */
            background: -webkit-linear-gradient(right, #76b852, #8DC26F);
            background: -moz-linear-gradient(right, #76b852, #8DC26F);
            background: -o-linear-gradient(right, #76b852, #8DC26F);
            background: linear-gradient(to left, #76b852, #8DC26F);
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            display: none;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        .staticrypt-footer {
            position: fixed;
            height: 20px;
            font-size: 16px;
            padding: 2px;
            bottom: 0;
            left: 0;
            right: 0;
            margin-bottom: 0;
        }

        .staticrypt-footer p {
            margin: 2px;
            text-align: center;
            float: right;
        }

        .staticrypt-footer a {
            text-decoration: none;
        }
    </style>
</head>

<body class="staticrypt-body">
<div class="staticrypt-page">
    <div class="staticrypt-form">
        <div class="staticrypt-instructions">
            <p class="staticrypt-title">Protected Page</p>
            <p></p>
        </div>

        <hr class="staticrypt-hr">

        <form id="staticrypt-form" action="#" method="post">
            <input id="staticrypt-password"
                   type="password"
                   name="password"
                   placeholder="passphrase"
                   autofocus/>

            <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT"/>
        </form>
    </div>

</div>
<footer class="staticrypt-footer">
    <p class="pull-right">Created with <a href="https://robinmoisson.github.io/staticrypt">StatiCrypt</a></p>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js" integrity="sha384-lp4k1VRKPU9eBnPePjnJ9M2RF3i7PC30gXs70+elCVfgwLwx1tv5+ctxdtwxqZa7" crossorigin="anonymous"></script>

<script> var storageType = "localStorage" 
function passphraseStorageFactory (storageType) {
    return {
        store: function (passphrase) {
            return window[storageType].setItem("passphrase", passphrase)
        },
        get: function () {
            return window[storageType].getItem("passphrase")
        },
        remove: function () {
            return window[storageType].removeItem("passphrase")
        }
    }
}

const passphraseStorage = passphraseStorageFactory(storageType)</script>

<script>
    /**
     * Decrypt a salted msg using a password.
     * Inspired by https://github.com/adonespitogo
     */
    var keySize = 256;
    var iterations = 1000;
    function decrypt (encryptedMsg, pass) {
        var salt = CryptoJS.enc.Hex.parse(encryptedMsg.substr(0, 32));
        var iv = CryptoJS.enc.Hex.parse(encryptedMsg.substr(32, 32))
        var encrypted = encryptedMsg.substring(64);

        var key = CryptoJS.PBKDF2(pass, salt, {
            keySize: keySize/32,
            iterations: iterations
        });

        var decrypted = CryptoJS.AES.decrypt(encrypted, key, {
            iv: iv,
            padding: CryptoJS.pad.Pkcs7,
            mode: CryptoJS.mode.CBC
        }).toString(CryptoJS.enc.Utf8);
        return decrypted;
    }

    window.onload = function () {
        if (passphraseStorage && passphraseStorage.get()) {
            if (decryptWithPassphrase(passphraseStorage.get())) {
                return;
            } else {
                passphraseStorage.remove();
            }
        }

        document.querySelector(".staticrypt-body").style.display = "block";
        var form = document.getElementById('staticrypt-form')
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault()
                var passphrase = document.getElementById('staticrypt-password').value
                passphraseStorage && passphraseStorage.store(passphrase)
                if (!decryptWithPassphrase(passphrase)) {
                    alert('Bad passphrase!');
                    return;
                }
            })
        }
    }

    function decryptWithPassphrase(passphrase) {
        var encryptedMsg = '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',
            encryptedHMAC = encryptedMsg.substring(0, 64),
            encryptedHTML = encryptedMsg.substring(64),
            decryptedHMAC = CryptoJS.HmacSHA256(encryptedHTML, CryptoJS.SHA256(passphrase).toString()).toString();

        if (decryptedHMAC !== encryptedHMAC) {
            return false;
        }

        var plainHTML = decrypt(encryptedHTML, passphrase);
        document.write(plainHTML);
		document.close();

        return true;
    };
</script>
</body>
</html>
