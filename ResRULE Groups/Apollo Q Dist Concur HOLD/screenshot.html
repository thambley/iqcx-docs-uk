<!doctype html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #FFFFFF;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input {
            outline: 0;
            background: #f2f2f2;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            padding: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #4CAF50;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover, .staticrypt-form .staticrypt-decrypt-button:active, .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #43A047;
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            margin-bottom: 1em;
            background: #76b852; /* fallback for old browsers */
            background: -webkit-linear-gradient(right, #76b852, #8DC26F);
            background: -moz-linear-gradient(right, #76b852, #8DC26F);
            background: -o-linear-gradient(right, #76b852, #8DC26F);
            background: linear-gradient(to left, #76b852, #8DC26F);
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        .staticrypt-footer {
            position: fixed;
            height: 20px;
            font-size: 16px;
            padding: 2px;
            bottom: 0;
            left: 0;
            right: 0;
            margin-bottom: 0;
        }

        .staticrypt-footer p {
            margin: 2px;
            text-align: center;
            float: right;
        }

        .staticrypt-footer a {
            text-decoration: none;
        }
    </style>
</head>

<body class="staticrypt-body">
<div class="staticrypt-page">
    <div class="staticrypt-form">
        <div class="staticrypt-instructions">
            <p class="staticrypt-title">Protected Page</p>
            <p></p>
        </div>

        <hr class="staticrypt-hr">

        <form id="staticrypt-form" action="#" method="post">
            <input id="staticrypt-password"
                   type="password"
                   name="password"
                   placeholder="passphrase"
                   autofocus/>

            <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT"/>
        </form>
    </div>

</div>
<footer class="staticrypt-footer">
    <p class="pull-right">Created with <a href="https://robinmoisson.github.io/staticrypt">StatiCrypt</a></p>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js" integrity="sha384-lp4k1VRKPU9eBnPePjnJ9M2RF3i7PC30gXs70+elCVfgwLwx1tv5+ctxdtwxqZa7" crossorigin="anonymous"></script>

<script> var storageType = "localStorage" 
function passphraseStorageFactory (storageType) {
    return {
        store: function (passphrase) {
            return window[storageType].setItem("passphrase", passphrase)
        },
        get: function () {
            return window[storageType].getItem("passphrase")
        },
        remove: function () {
            return window[storageType].removeItem("passphrase")
        }
    }
}

const passphraseStorage = passphraseStorageFactory(storageType)</script>

<script>
    /**
     * Decrypt a salted msg using a password.
     * Inspired by https://github.com/adonespitogo
     */
    var keySize = 256;
    var iterations = 1000;
    function decrypt (encryptedMsg, pass) {
        var salt = CryptoJS.enc.Hex.parse(encryptedMsg.substr(0, 32));
        var iv = CryptoJS.enc.Hex.parse(encryptedMsg.substr(32, 32))
        var encrypted = encryptedMsg.substring(64);

        var key = CryptoJS.PBKDF2(pass, salt, {
            keySize: keySize/32,
            iterations: iterations
        });

        var decrypted = CryptoJS.AES.decrypt(encrypted, key, {
            iv: iv,
            padding: CryptoJS.pad.Pkcs7,
            mode: CryptoJS.mode.CBC
        }).toString(CryptoJS.enc.Utf8);
        return decrypted;
    }

    window.onload = function () {
        if (passphraseStorage && passphraseStorage.get()) {
            if (decryptWithPassphrase(passphraseStorage.get())) {
                return;
            } else {
                passphraseStorage.remove();
            }
        }

        var form = document.getElementById('staticrypt-form')
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault()
                var passphrase = document.getElementById('staticrypt-password').value
                passphraseStorage && passphraseStorage.store(passphrase)
                if (!decryptWithPassphrase(passphrase)) {
                    alert('Bad passphrase!');
                    return;
                }
            })
        }
    }

    function decryptWithPassphrase(passphrase) {
        var encryptedMsg = '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',
            encryptedHMAC = encryptedMsg.substring(0, 64),
            encryptedHTML = encryptedMsg.substring(64),
            decryptedHMAC = CryptoJS.HmacSHA256(encryptedHTML, CryptoJS.SHA256(passphrase).toString()).toString();

        if (decryptedHMAC !== encryptedHMAC) {
            return false;
        }

        var plainHTML = decrypt(encryptedHTML, passphrase);
        document.write(plainHTML);
		document.close();

        return true;
    };
</script>
</body>
</html>
