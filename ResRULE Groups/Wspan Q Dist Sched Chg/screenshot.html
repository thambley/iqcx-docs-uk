<!doctype html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #FFFFFF;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input {
            outline: 0;
            background: #f2f2f2;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            padding: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #4CAF50;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover, .staticrypt-form .staticrypt-decrypt-button:active, .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #43A047;
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            margin-bottom: 1em;
            background: #76b852; /* fallback for old browsers */
            background: -webkit-linear-gradient(right, #76b852, #8DC26F);
            background: -moz-linear-gradient(right, #76b852, #8DC26F);
            background: -o-linear-gradient(right, #76b852, #8DC26F);
            background: linear-gradient(to left, #76b852, #8DC26F);
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        .staticrypt-footer {
            position: fixed;
            height: 20px;
            font-size: 16px;
            padding: 2px;
            bottom: 0;
            left: 0;
            right: 0;
            margin-bottom: 0;
        }

        .staticrypt-footer p {
            margin: 2px;
            text-align: center;
            float: right;
        }

        .staticrypt-footer a {
            text-decoration: none;
        }
    </style>
</head>

<body class="staticrypt-body">
<div class="staticrypt-page">
    <div class="staticrypt-form">
        <div class="staticrypt-instructions">
            <p class="staticrypt-title">Protected Page</p>
            <p></p>
        </div>

        <hr class="staticrypt-hr">

        <form id="staticrypt-form" action="#" method="post">
            <input id="staticrypt-password"
                   type="password"
                   name="password"
                   placeholder="passphrase"
                   autofocus/>

            <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT"/>
        </form>
    </div>

</div>
<footer class="staticrypt-footer">
    <p class="pull-right">Created with <a href="https://robinmoisson.github.io/staticrypt">StatiCrypt</a></p>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js" integrity="sha384-lp4k1VRKPU9eBnPePjnJ9M2RF3i7PC30gXs70+elCVfgwLwx1tv5+ctxdtwxqZa7" crossorigin="anonymous"></script>

<script> var storageType = "localStorage" 
function passphraseStorageFactory (storageType) {
    return {
        store: function (passphrase) {
            return window[storageType].setItem("passphrase", passphrase)
        },
        get: function () {
            return window[storageType].getItem("passphrase")
        },
        remove: function () {
            return window[storageType].removeItem("passphrase")
        }
    }
}

const passphraseStorage = passphraseStorageFactory(storageType)</script>

<script>
    /**
     * Decrypt a salted msg using a password.
     * Inspired by https://github.com/adonespitogo
     */
    var keySize = 256;
    var iterations = 1000;
    function decrypt (encryptedMsg, pass) {
        var salt = CryptoJS.enc.Hex.parse(encryptedMsg.substr(0, 32));
        var iv = CryptoJS.enc.Hex.parse(encryptedMsg.substr(32, 32))
        var encrypted = encryptedMsg.substring(64);

        var key = CryptoJS.PBKDF2(pass, salt, {
            keySize: keySize/32,
            iterations: iterations
        });

        var decrypted = CryptoJS.AES.decrypt(encrypted, key, {
            iv: iv,
            padding: CryptoJS.pad.Pkcs7,
            mode: CryptoJS.mode.CBC
        }).toString(CryptoJS.enc.Utf8);
        return decrypted;
    }

    window.onload = function () {
        if (passphraseStorage && passphraseStorage.get()) {
            if (decryptWithPassphrase(passphraseStorage.get())) {
                return;
            } else {
                passphraseStorage.remove();
            }
        }

        var form = document.getElementById('staticrypt-form')
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault()
                var passphrase = document.getElementById('staticrypt-password').value
                passphraseStorage && passphraseStorage.store(passphrase)
                if (!decryptWithPassphrase(passphrase)) {
                    alert('Bad passphrase!');
                    return;
                }
            })
        }
    }

    function decryptWithPassphrase(passphrase) {
        var encryptedMsg = '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',
            encryptedHMAC = encryptedMsg.substring(0, 64),
            encryptedHTML = encryptedMsg.substring(64),
            decryptedHMAC = CryptoJS.HmacSHA256(encryptedHTML, CryptoJS.SHA256(passphrase).toString()).toString();

        if (decryptedHMAC !== encryptedHMAC) {
            return false;
        }

        var plainHTML = decrypt(encryptedHTML, passphrase);
        document.write(plainHTML);
		document.close();

        return true;
    };
</script>
</body>
</html>
