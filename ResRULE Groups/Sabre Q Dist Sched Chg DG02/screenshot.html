<!doctype html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #FFFFFF;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input {
            outline: 0;
            background: #f2f2f2;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            padding: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #4CAF50;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover, .staticrypt-form .staticrypt-decrypt-button:active, .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #43A047;
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            margin-bottom: 1em;
            background: #76b852; /* fallback for old browsers */
            background: -webkit-linear-gradient(right, #76b852, #8DC26F);
            background: -moz-linear-gradient(right, #76b852, #8DC26F);
            background: -o-linear-gradient(right, #76b852, #8DC26F);
            background: linear-gradient(to left, #76b852, #8DC26F);
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        .staticrypt-footer {
            position: fixed;
            height: 20px;
            font-size: 16px;
            padding: 2px;
            bottom: 0;
            left: 0;
            right: 0;
            margin-bottom: 0;
        }

        .staticrypt-footer p {
            margin: 2px;
            text-align: center;
            float: right;
        }

        .staticrypt-footer a {
            text-decoration: none;
        }
    </style>
</head>

<body class="staticrypt-body">
<div class="staticrypt-page">
    <div class="staticrypt-form">
        <div class="staticrypt-instructions">
            <p class="staticrypt-title">Protected Page</p>
            <p></p>
        </div>

        <hr class="staticrypt-hr">

        <form id="staticrypt-form" action="#" method="post">
            <input id="staticrypt-password"
                   type="password"
                   name="password"
                   placeholder="passphrase"
                   autofocus/>

            <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT"/>
        </form>
    </div>

</div>
<footer class="staticrypt-footer">
    <p class="pull-right">Created with <a href="https://robinmoisson.github.io/staticrypt">StatiCrypt</a></p>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js" integrity="sha384-lp4k1VRKPU9eBnPePjnJ9M2RF3i7PC30gXs70+elCVfgwLwx1tv5+ctxdtwxqZa7" crossorigin="anonymous"></script>

<script> var storageType = "localStorage" 
function passphraseStorageFactory (storageType) {
    return {
        store: function (passphrase) {
            return window[storageType].setItem("passphrase", passphrase)
        },
        get: function () {
            return window[storageType].getItem("passphrase")
        },
        remove: function () {
            return window[storageType].removeItem("passphrase")
        }
    }
}

const passphraseStorage = passphraseStorageFactory(storageType)</script>

<script>
    /**
     * Decrypt a salted msg using a password.
     * Inspired by https://github.com/adonespitogo
     */
    var keySize = 256;
    var iterations = 1000;
    function decrypt (encryptedMsg, pass) {
        var salt = CryptoJS.enc.Hex.parse(encryptedMsg.substr(0, 32));
        var iv = CryptoJS.enc.Hex.parse(encryptedMsg.substr(32, 32))
        var encrypted = encryptedMsg.substring(64);

        var key = CryptoJS.PBKDF2(pass, salt, {
            keySize: keySize/32,
            iterations: iterations
        });

        var decrypted = CryptoJS.AES.decrypt(encrypted, key, {
            iv: iv,
            padding: CryptoJS.pad.Pkcs7,
            mode: CryptoJS.mode.CBC
        }).toString(CryptoJS.enc.Utf8);
        return decrypted;
    }

    window.onload = function () {
        if (passphraseStorage && passphraseStorage.get()) {
            if (decryptWithPassphrase(passphraseStorage.get())) {
                return;
            } else {
                passphraseStorage.remove();
            }
        }

        var form = document.getElementById('staticrypt-form')
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault()
                var passphrase = document.getElementById('staticrypt-password').value
                passphraseStorage && passphraseStorage.store(passphrase)
                if (!decryptWithPassphrase(passphrase)) {
                    alert('Bad passphrase!');
                    return;
                }
            })
        }
    }

    function decryptWithPassphrase(passphrase) {
        var encryptedMsg = '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',
            encryptedHMAC = encryptedMsg.substring(0, 64),
            encryptedHTML = encryptedMsg.substring(64),
            decryptedHMAC = CryptoJS.HmacSHA256(encryptedHTML, CryptoJS.SHA256(passphrase).toString()).toString();

        if (decryptedHMAC !== encryptedHMAC) {
            return false;
        }

        var plainHTML = decrypt(encryptedHTML, passphrase);
        document.write(plainHTML);
		document.close();

        return true;
    };
</script>
</body>
</html>
