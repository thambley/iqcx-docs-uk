<!doctype html>
<html class="staticrypt-html">
<head>
    <meta charset="utf-8">
    <title>Protected Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- do not cache this page -->
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>

    <style>
        .staticrypt-hr {
            margin-top: 20px;
            margin-bottom: 20px;
            border: 0;
            border-top: 1px solid #eee;
        }

        .staticrypt-page {
            width: 360px;
            padding: 8% 0 0;
            margin: auto;
            box-sizing: border-box;
        }

        .staticrypt-form {
            position: relative;
            z-index: 1;
            background: #FFFFFF;
            max-width: 360px;
            margin: 0 auto 100px;
            padding: 45px;
            text-align: center;
            box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
        }

        .staticrypt-form input {
            outline: 0;
            background: #f2f2f2;
            width: 100%;
            border: 0;
            margin: 0 0 15px;
            padding: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }

        .staticrypt-form .staticrypt-decrypt-button {
            text-transform: uppercase;
            outline: 0;
            background: #4CAF50;
            width: 100%;
            border: 0;
            padding: 15px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
        }

        .staticrypt-form .staticrypt-decrypt-button:hover, .staticrypt-form .staticrypt-decrypt-button:active, .staticrypt-form .staticrypt-decrypt-button:focus {
            background: #43A047;
        }

        .staticrypt-html {
            height: 100%;
        }

        .staticrypt-body {
            margin-bottom: 1em;
            background: #76b852; /* fallback for old browsers */
            background: -webkit-linear-gradient(right, #76b852, #8DC26F);
            background: -moz-linear-gradient(right, #76b852, #8DC26F);
            background: -o-linear-gradient(right, #76b852, #8DC26F);
            background: linear-gradient(to left, #76b852, #8DC26F);
            font-family: "Arial", sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .staticrypt-instructions {
            margin-top: -1em;
            margin-bottom: 1em;
        }

        .staticrypt-title {
            font-size: 1.5em;
        }

        .staticrypt-footer {
            position: fixed;
            height: 20px;
            font-size: 16px;
            padding: 2px;
            bottom: 0;
            left: 0;
            right: 0;
            margin-bottom: 0;
        }

        .staticrypt-footer p {
            margin: 2px;
            text-align: center;
            float: right;
        }

        .staticrypt-footer a {
            text-decoration: none;
        }
    </style>
</head>

<body class="staticrypt-body">
<div class="staticrypt-page">
    <div class="staticrypt-form">
        <div class="staticrypt-instructions">
            <p class="staticrypt-title">Protected Page</p>
            <p></p>
        </div>

        <hr class="staticrypt-hr">

        <form id="staticrypt-form" action="#" method="post">
            <input id="staticrypt-password"
                   type="password"
                   name="password"
                   placeholder="passphrase"
                   autofocus/>

            <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT"/>
        </form>
    </div>

</div>
<footer class="staticrypt-footer">
    <p class="pull-right">Created with <a href="https://robinmoisson.github.io/staticrypt">StatiCrypt</a></p>
</footer>


<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js" integrity="sha384-lp4k1VRKPU9eBnPePjnJ9M2RF3i7PC30gXs70+elCVfgwLwx1tv5+ctxdtwxqZa7" crossorigin="anonymous"></script>

<script> var storageType = "localStorage" 
function passphraseStorageFactory (storageType) {
    return {
        store: function (passphrase) {
            return window[storageType].setItem("passphrase", passphrase)
        },
        get: function () {
            return window[storageType].getItem("passphrase")
        },
        remove: function () {
            return window[storageType].removeItem("passphrase")
        }
    }
}

const passphraseStorage = passphraseStorageFactory(storageType)</script>

<script>
    /**
     * Decrypt a salted msg using a password.
     * Inspired by https://github.com/adonespitogo
     */
    var keySize = 256;
    var iterations = 1000;
    function decrypt (encryptedMsg, pass) {
        var salt = CryptoJS.enc.Hex.parse(encryptedMsg.substr(0, 32));
        var iv = CryptoJS.enc.Hex.parse(encryptedMsg.substr(32, 32))
        var encrypted = encryptedMsg.substring(64);

        var key = CryptoJS.PBKDF2(pass, salt, {
            keySize: keySize/32,
            iterations: iterations
        });

        var decrypted = CryptoJS.AES.decrypt(encrypted, key, {
            iv: iv,
            padding: CryptoJS.pad.Pkcs7,
            mode: CryptoJS.mode.CBC
        }).toString(CryptoJS.enc.Utf8);
        return decrypted;
    }

    window.onload = function () {
        var form = document.getElementById('staticrypt-form')
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault()
                var passphrase = document.getElementById('staticrypt-password').value
                passphraseStorage && passphraseStorage.store(passphrase)
                if (!decryptWithPassphrase(passphrase)) {
                    alert('Bad passphrase!')
                    return
                }
            })
        }
    }

    if (passphraseStorage && passphraseStorage.get()) {
        if (!decryptWithPassphrase(passphraseStorage.get())) {
            passphraseStorage.remove()
        }
    }

    function decryptWithPassphrase(passphrase) {
        var encryptedMsg = '99999bae7901f38e79709ae192e20889a25782763651552a20932ae7a665adbc55c9596eb0451b4342cf9c11b4b58f3d3d537671bf9d9613bbc0de656f1b0b062dL1I+ASuuqPPMZJ9BJv4fsnn1972XvxkeUgSanRYWFb4G3CtEmwT+oImpuoTp3KoGi/MdV9+TwC5VTM645AIMywmZPweqpeN4471M2MTTPTnPKZ+cfPzx/znexZqPx2uQILGFc/eorEJbg0MHMUgOZVi0yKLPF0NI/s4JdBQp10p07K4DrIisT1742A/1JWdZ4IEfdyybxqXIE+AnUUi+RX/HqKeQfxx+/El18+4WFwwsCYT4O+oIiU+hT3w89sEIiu5d38Qwb6MHIbpVobeRv+lG+3QIDnrz3myvmKK9dQ1SK3HzyOEYWSJpF++fgbw4iWtqdlgG21200W5+SmrymMGZmWoP+9UxNTlE8cyQhgot4VcHNPfzQmH0Gih9FdFGaxdUrP89zC1mPXuzDbDFzV5nEB1cO/prtS5uKmqUHRmdl2fZmdZa63yp98vt4lyY26K9QgggNFwtVtHk7G/BCr01+VZg6sRVL37hN5Sy7G1BVAhAZaIzsozsZ5e+hlJByOtLFE2XqgQy4kVuAFyuSy/MpoTa9BGJAhAuoCtvpoHYVVYy8TUCmxg3gJ+hMq5QJsq+dOKz13A+69H+0QJ9ZiQkCkNOL0p+W+bL45WQrGTi1ebMG2+Y3Xyrox1kK/16aM+3bmCag2R92MonKG3Ig7tV05kaZD8vqQKxhw8rQilUq84VLEj2/395v4TqcZ3g43iExCQSdOx0NwlGZPXupbG2GBlLqkEwiW95C+FvX6fmeiqdObgrPsZ4R84dc/XZ2U9yhosiX1ge1hz4gShM0mn0vDoXqS05N209wUOprNSgh9ggFLe+HGiXGvfRGS4w3p9tlqI8PODeqlvNBNyKjPujs/COts8hpH9pH73Ta0jInLL9zaaHlrBaEYENpEYwo9NKKStv/r9a+rZD6YYewJjdvSUiKp2bwQKEhCjBntIqQsuLeDiRrDyFtpydQh0lOR9EWWCu6rZXZn/YERqeUy8MVlF89/SMl9g6Qj1lvw1lMJUo6uhFm7FF3jKzjdO18wYGH4b9HhoeSSBZGOOXdxnkwv0O0/DDNGeYRaWKI0y8sO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',
            encryptedHMAC = encryptedMsg.substring(0, 64),
            encryptedHTML = encryptedMsg.substring(64),
            decryptedHMAC = CryptoJS.HmacSHA256(encryptedHTML, CryptoJS.SHA256(passphrase).toString()).toString();

        if (decryptedHMAC !== encryptedHMAC) {
            return false;
        }

        var plainHTML = decrypt(encryptedHTML, passphrase);
        document.getElementsByTagName("html")[0].innerHTML = plainHTML;

        return true;
    };
</script>
</body>
</html>
